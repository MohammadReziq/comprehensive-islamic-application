# ğŸ“± Ø§Ù„Ø®Ø·Ø© Ø§Ù„Ù†Ù‡Ø§Ø¦ÙŠØ© - ØªØ·Ø¨ÙŠÙ‚ "ØµÙ„Ø§ØªÙŠ Ø­ÙŠØ§ØªÙŠ" v4.0

> Express.js Backend + Super Admin + Ø±Ø¤ÙŠØ© Ø¥Ø³Ù„Ø§Ù…ÙŠØ© ØªØ±Ø¨ÙˆÙŠØ©

---

## ğŸ¯ Ø§Ù„Ù…Ù„Ø®Øµ Ø§Ù„ØªÙ†ÙÙŠØ°ÙŠ

| Ø§Ù„Ø¨Ù†Ø¯ | Ø§Ù„Ù‚ÙŠÙ…Ø© |
|------|--------|
| **Frontend** | Flutter (Android + iOS) |
| **Backend** | Express.js + PostgreSQL + Prisma ORM |
| **Auth** | Firebase Auth (Ø¥ÙŠÙ…ÙŠÙ„ + Ù‡Ø§ØªÙ + Google) |
| **Notifications** | Firebase Cloud Messaging (FCM) |
| **Offline** | Hive (Ù…Ø­Ù„ÙŠ) + Sync Queue |
| **Ø§Ù„Ù„ØºØ©** | Ø¹Ø±Ø¨ÙŠ ÙÙ‚Ø· (RTL) |
| **Ø§Ù„ØªØµÙ…ÙŠÙ…** | Ù…Ù„Ø§Ø¦Ù… Ù„Ù„Ø£Ø·ÙØ§Ù„ - Ù…Ø¨Ù‡Ø¬ - Ø¨Ø³ÙŠØ· |

---

## ğŸ“ Ø§Ù„Ø¨Ù†ÙŠØ© Ø§Ù„ØªÙ‚Ù†ÙŠØ© - Express.js Architecture

```mermaid
graph TB
    subgraph "ğŸ“± Flutter App"
        FA["ÙˆØ§Ø¬Ù‡Ø© ÙˆÙ„ÙŠ Ø§Ù„Ø£Ù…Ø±"]
        FB["ÙˆØ§Ø¬Ù‡Ø© Ø§Ù„Ù…Ø´Ø±Ù"]
        FC["ÙˆØ§Ø¬Ù‡Ø© Super Admin"]
    end
    
    subgraph "ğŸ” Firebase"
        AUTH["Firebase Auth<br/>ØªØ³Ø¬ÙŠÙ„ + ØªÙˆØ«ÙŠÙ‚"]
        FCM["Firebase FCM<br/>Ø¥Ø´Ø¹Ø§Ø±Ø§Øª"]
    end
    
    subgraph "âš™ï¸ Express.js Server"
        API["REST API"]
        MW["Middleware<br/>Auth + Validation"]
        CRON["Cron Jobs<br/>ØªÙ†Ø¨ÙŠÙ‡Ø§Øª + ØªÙ‚Ø§Ø±ÙŠØ±"]
    end
    
    subgraph "ğŸ—„ï¸ PostgreSQL"
        DB["Ù‚Ø§Ø¹Ø¯Ø© Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª"]
    end
    
    FA & FB & FC --> AUTH
    FA & FB & FC --> API
    AUTH -->|"JWT Token"| MW
    MW --> API
    API --> DB
    API --> FCM
    CRON --> DB
    CRON --> FCM
    
    style API fill:#68a063,color:#fff
    style DB fill:#336791,color:#fff
    style AUTH fill:#FFA611,color:#fff
```

### Ù„Ù…Ø§Ø°Ø§ Ù‡Ø°Ø§ Ø§Ù„Ù€ StackØŸ

| Ø§Ù„Ù‚Ø±Ø§Ø± | Ø§Ù„Ø³Ø¨Ø¨ |
|--------|-------|
| **Express.js** | ØªØ­ÙƒÙ… ÙƒØ§Ù…Ù„ Ø¨Ø§Ù„Ù€ APIØŒ Ù…Ø±ÙˆÙ†Ø©ØŒ Ø³Ù‡Ù„ Ø§Ù„ØªÙˆØ³Ù‘Ø¹ |
| **PostgreSQL** | Ø£Ù‚ÙˆÙ‰ Ù…Ù† MySQL Ù„Ù„Ø¹Ù„Ø§Ù‚Ø§Øª Ø§Ù„Ù…Ø¹Ù‚Ø¯Ø© + JSON support |
| **Prisma ORM** | ÙŠØ³Ù‡Ù‘Ù„ Ø§Ù„ØªØ¹Ø§Ù…Ù„ Ù…Ø¹ DB + Type Safety + Migrations |
| **Firebase Auth** | Ø¨Ø¯Ù„ Ù…Ø§ Ù†Ø¨Ù†ÙŠ Auth Ù…Ù† Ø§Ù„ØµÙØ± â†’ Ø¬Ø§Ù‡Ø² + Ø¢Ù…Ù† + ÙŠØ¯Ø¹Ù… Ù‡Ø§ØªÙ/Ø¥ÙŠÙ…ÙŠÙ„ |
| **Firebase FCM** | Ø£ÙØ¶Ù„ Ø­Ù„ Ù„Ù„Ù€ Push Notifications Ø¹Ù„Ù‰ Android + iOS |

### Ù‡ÙŠÙƒÙ„ Ø§Ù„Ù€ Backend

```
server/
â”œâ”€â”€ src/
â”‚   â”œâ”€â”€ index.ts                    # Entry point
â”‚   â”œâ”€â”€ app.ts                      # Express app setup
â”‚   â”‚
â”‚   â”œâ”€â”€ config/
â”‚   â”‚   â”œâ”€â”€ database.ts             # Prisma client
â”‚   â”‚   â”œâ”€â”€ firebase.ts             # Firebase Admin SDK
â”‚   â”‚   â””â”€â”€ env.ts                  # Environment variables
â”‚   â”‚
â”‚   â”œâ”€â”€ middleware/
â”‚   â”‚   â”œâ”€â”€ auth.middleware.ts       # Firebase JWT verification
â”‚   â”‚   â”œâ”€â”€ role.middleware.ts       # Role-based access control
â”‚   â”‚   â”œâ”€â”€ validate.middleware.ts   # Request validation (Zod)
â”‚   â”‚   â””â”€â”€ error.middleware.ts      # Global error handler
â”‚   â”‚
â”‚   â”œâ”€â”€ routes/
â”‚   â”‚   â”œâ”€â”€ auth.routes.ts           # POST /auth/register, /auth/role
â”‚   â”‚   â”œâ”€â”€ mosque.routes.ts         # CRUD mosques
â”‚   â”‚   â”œâ”€â”€ supervisor.routes.ts     # Manage supervisors
â”‚   â”‚   â”œâ”€â”€ child.routes.ts          # CRUD children
â”‚   â”‚   â”œâ”€â”€ attendance.routes.ts     # Record + query attendance
â”‚   â”‚   â”œâ”€â”€ correction.routes.ts     # Correction requests
â”‚   â”‚   â”œâ”€â”€ note.routes.ts           # Quick notes
â”‚   â”‚   â”œâ”€â”€ reward.routes.ts         # Rewards CRUD
â”‚   â”‚   â”œâ”€â”€ leaderboard.routes.ts    # Rankings
â”‚   â”‚   â”œâ”€â”€ report.routes.ts         # Charts data
â”‚   â”‚   â”œâ”€â”€ notification.routes.ts   # Notification preferences
â”‚   â”‚   â””â”€â”€ admin.routes.ts          # Super Admin endpoints
â”‚   â”‚
â”‚   â”œâ”€â”€ controllers/                 # Request handlers
â”‚   â”œâ”€â”€ services/                    # Business logic
â”‚   â”‚   â”œâ”€â”€ attendance.service.ts
â”‚   â”‚   â”œâ”€â”€ points.service.ts        # Points calculation
â”‚   â”‚   â”œâ”€â”€ badge.service.ts         # Badge evaluation
â”‚   â”‚   â”œâ”€â”€ notification.service.ts  # FCM sender
â”‚   â”‚   â””â”€â”€ prayer-times.service.ts
â”‚   â”‚
â”‚   â”œâ”€â”€ utils/
â”‚   â”‚   â”œâ”€â”€ qr.util.ts              # QR code generation
â”‚   â”‚   â””â”€â”€ response.util.ts        # Standard API responses
â”‚   â”‚
â”‚   â””â”€â”€ cron/
â”‚       â”œâ”€â”€ missing-attendance.ts    # ØªÙ†Ø¨ÙŠÙ‡ Ø¹Ø¯Ù… ØªØ³Ø¬ÙŠÙ„ Ø£ÙŠ Ø·Ø§Ù„Ø¨
â”‚       â””â”€â”€ weekly-report.ts         # ØªÙ‚Ø±ÙŠØ± Ø£Ø³Ø¨ÙˆØ¹ÙŠ Ù„Ù„Ø£ÙˆÙ„ÙŠØ§Ø¡
â”‚
â”œâ”€â”€ prisma/
â”‚   â”œâ”€â”€ schema.prisma               # Database schema
â”‚   â””â”€â”€ seed.ts                     # Seed data
â”‚
â”œâ”€â”€ package.json
â”œâ”€â”€ tsconfig.json
â””â”€â”€ .env
```

### Ø£Ù‡Ù… Ø§Ù„Ù€ API Endpoints

```
ğŸ” Auth
POST   /api/auth/register          â†’ ØªØ³Ø¬ÙŠÙ„ + Ø§Ø®ØªÙŠØ§Ø± Ø¯ÙˆØ±
POST   /api/auth/set-role          â†’ ØªØ­Ø¯ÙŠØ¯ Ø§Ù„Ø¯ÙˆØ±

ğŸ›ï¸ Super Admin
GET    /api/admin/mosque-requests   â†’ Ø·Ù„Ø¨Ø§Øª Ø§Ù„Ù…Ø³Ø§Ø¬Ø¯ Ø§Ù„Ù…Ø¹Ù„Ù‚Ø©
PATCH  /api/admin/mosque-requests/:id â†’ Ù‚Ø¨ÙˆÙ„/Ø±ÙØ¶ Ù…Ø³Ø¬Ø¯
GET    /api/admin/stats             â†’ Ø¥Ø­ØµØ§Ø¦ÙŠØ§Øª Ø¹Ø§Ù…Ø©

ğŸ•Œ Ø§Ù„Ù…Ø³Ø¬Ø¯
POST   /api/mosques                 â†’ Ø·Ù„Ø¨ Ø¥Ù†Ø´Ø§Ø¡ Ù…Ø³Ø¬Ø¯ (ÙŠØ­ØªØ§Ø¬ Ù…ÙˆØ§ÙÙ‚Ø©)
GET    /api/mosques/:id             â†’ ØªÙØ§ØµÙŠÙ„ Ø§Ù„Ù…Ø³Ø¬Ø¯
PATCH  /api/mosques/:id             â†’ ØªØ¹Ø¯ÙŠÙ„ Ø§Ù„Ø¥Ø¹Ø¯Ø§Ø¯Ø§Øª

ğŸ‘¨â€ğŸ« Ø§Ù„Ù…Ø´Ø±ÙÙˆÙ†
POST   /api/mosques/:id/invite      â†’ Ø¥Ù†Ø´Ø§Ø¡ ÙƒÙˆØ¯ Ø¯Ø¹ÙˆØ©
POST   /api/mosques/join            â†’ Ø§Ù†Ø¶Ù…Ø§Ù… Ø¨ÙƒÙˆØ¯
DELETE /api/mosques/:id/supervisors/:uid â†’ Ø¥Ø²Ø§Ù„Ø© Ù…Ø´Ø±Ù

ğŸ‘¶ Ø§Ù„Ø£Ø·ÙØ§Ù„
POST   /api/children                â†’ Ø¥Ø¶Ø§ÙØ© Ø·ÙÙ„
GET    /api/children                â†’ Ø£Ø·ÙØ§Ù„ÙŠ
GET    /api/children/:id/qr         â†’ QR Code
POST   /api/children/:id/mosques    â†’ Ø±Ø¨Ø· Ø¨Ù…Ø³Ø¬Ø¯

âœ… Ø§Ù„Ø­Ø¶ÙˆØ±
POST   /api/attendance/scan         â†’ ØªØ³Ø¬ÙŠÙ„ Ø¨Ù€ QR
POST   /api/attendance/number       â†’ ØªØ³Ø¬ÙŠÙ„ Ø¨Ø±Ù‚Ù…
POST   /api/attendance/name         â†’ ØªØ³Ø¬ÙŠÙ„ Ø¨Ø§Ø³Ù…
POST   /api/attendance/home         â†’ ØµÙ„Ø§Ø© Ù…Ù†Ø²Ù„ÙŠØ©
POST   /api/attendance/sync         â†’ Ù…Ø²Ø§Ù…Ù†Ø© Offline
GET    /api/attendance/today/:mosqueId â†’ Ø­Ø¶ÙˆØ± Ø§Ù„ÙŠÙˆÙ…

ğŸ“© Ø§Ù„ØªØµØ­ÙŠØ­
POST   /api/corrections             â†’ Ø¥Ø±Ø³Ø§Ù„ Ø·Ù„Ø¨ ØªØµØ­ÙŠØ­
GET    /api/corrections/pending     â†’ Ø§Ù„Ø·Ù„Ø¨Ø§Øª Ø§Ù„Ù…Ø¹Ù„Ù‚Ø©
PATCH  /api/corrections/:id         â†’ Ù‚Ø¨ÙˆÙ„/Ø±ÙØ¶

ğŸ“ Ø§Ù„Ù…Ù„Ø§Ø­Ø¸Ø§Øª
POST   /api/notes                   â†’ Ø¥Ø±Ø³Ø§Ù„ Ù…Ù„Ø§Ø­Ø¸Ø©
GET    /api/notes/child/:id         â†’ Ù…Ù„Ø§Ø­Ø¸Ø§Øª Ø·ÙÙ„

ğŸ† Ø§Ù„ØªØ­ÙÙŠØ²
GET    /api/leaderboard/:mosqueId   â†’ Ø§Ù„ØªØ±ØªÙŠØ¨ (Ø®ØµÙˆØµÙŠØ©)
GET    /api/badges/:childId         â†’ Ø´Ø§Ø±Ø§Øª Ø§Ù„Ø·ÙÙ„
POST   /api/rewards                 â†’ Ø¥Ø¶Ø§ÙØ© Ø¬Ø§Ø¦Ø²Ø©

ğŸ“Š Ø§Ù„ØªÙ‚Ø§Ø±ÙŠØ±
GET    /api/reports/weekly/:childId  â†’ ØªÙ‚Ø±ÙŠØ± Ø£Ø³Ø¨ÙˆØ¹ÙŠ
GET    /api/reports/monthly/:childId â†’ ØªÙ‚Ø±ÙŠØ± Ø´Ù‡Ø±ÙŠ
```

---

## ğŸ‘¥ Ù‡Ø±Ù… Ø§Ù„Ø£Ø¯ÙˆØ§Ø± Ø§Ù„Ù†Ù‡Ø§Ø¦ÙŠ (Ù…Ø¹ Super Admin)

```mermaid
graph TB
    GOD["ğŸ‘¨â€ğŸ’» Super Admin<br/>ØµØ§Ø­Ø¨ Ø§Ù„ØªØ·Ø¨ÙŠÙ‚/Ø§Ù„Ù…Ø¨Ø§Ø¯Ø±Ø©<br/>ÙŠÙˆØ§ÙÙ‚ Ø¹Ù„Ù‰ Ø§Ù„Ù…Ø³Ø§Ø¬Ø¯"]
    SA["ğŸ›ï¸ Ù…Ø¯ÙŠØ± Ø§Ù„Ù…Ø³Ø¬Ø¯<br/>ÙŠÙÙ‚Ø¨Ù„ Ù…Ù† Super Admin<br/>ÙŠØ¯ÙŠØ± Ù…Ø³Ø¬Ø¯Ù‡ + ÙŠØ¯Ø¹Ùˆ Ù…Ø´Ø±ÙÙŠÙ†"]
    AD["ğŸ‘¨â€ğŸ« Ù…Ø´Ø±Ù<br/>ÙŠÙØ¯Ø¹Ù‰ Ù…Ù† Ø§Ù„Ù…Ø¯ÙŠØ±<br/>ÙŠØ³Ø¬Ù„ Ø§Ù„Ø­Ø¶ÙˆØ±"]
    PA["ğŸ‘¨â€ğŸ‘©â€ğŸ‘§ ÙˆÙ„ÙŠ Ø£Ù…Ø±<br/>ÙŠØ³Ø¬Ù„ Ø¨Ù†ÙØ³Ù‡<br/>ÙŠØ±Ø¨Ø· Ø£Ø·ÙØ§Ù„Ù‡"]
    CH["ğŸ‘¶ Ø·ÙÙ„<br/>Ù„Ø§ ÙŠØ­ØªØ§Ø¬ Ø­Ø³Ø§Ø¨<br/>Ø¨Ø·Ø§Ù‚Ø© QR"]
    
    GOD -->|"ÙŠÙˆØ§ÙÙ‚/ÙŠØ±ÙØ¶"| SA
    SA -->|"ÙŠØ¯Ø¹Ùˆ Ø¨ÙƒÙˆØ¯"| AD
    AD -->|"ÙŠØ³Ø¬Ù„ Ø­Ø¶ÙˆØ±"| CH
    PA -->|"ÙŠØ¶ÙŠÙ + ÙŠØ±Ø¨Ø·"| CH
    
    style GOD fill:#8B0000,color:#fff
    style SA fill:#1a3a5c,color:#fff
    style AD fill:#2d5f8a,color:#fff
    style PA fill:#4a90d9,color:#fff
    style CH fill:#87ceeb,color:#000
```

### Ø±Ø­Ù„Ø© ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ù…Ø³Ø¬Ø¯ (Ù…Ø¹ Super Admin)

```mermaid
sequenceDiagram
    participant Imam as Ø§Ù„Ø¥Ù…Ø§Ù…
    participant App as Ø§Ù„ØªØ·Ø¨ÙŠÙ‚
    participant API as Express API
    participant SA as Super Admin

    Imam->>App: Ø¥Ù†Ø´Ø§Ø¡ Ø­Ø³Ø§Ø¨
    Imam->>App: Ø§Ø®ØªØ§Ø± "Ø¥Ù…Ø§Ù…/Ù…Ø´Ø±Ù"
    Imam->>App: "Ø¥Ù†Ø´Ø§Ø¡ Ù…Ø³Ø¬Ø¯ Ø¬Ø¯ÙŠØ¯"
    Imam->>App: Ù…Ù„Ø¡ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª (Ø§Ø³Ù… + Ø¹Ù†ÙˆØ§Ù† + Ø±Ù‚Ù… Ù‡Ø§ØªÙ)
    App->>API: POST /api/mosques {status: "pending"}
    API->>SA: ğŸ”” Ø·Ù„Ø¨ Ù…Ø³Ø¬Ø¯ Ø¬Ø¯ÙŠØ¯!
    
    Note over Imam: â³ ÙÙŠ Ø§Ù†ØªØ¸Ø§Ø± Ø§Ù„Ù…ÙˆØ§ÙÙ‚Ø©
    App->>Imam: "Ø·Ù„Ø¨Ùƒ Ù‚ÙŠØ¯ Ø§Ù„Ù…Ø±Ø§Ø¬Ø¹Ø©"
    
    SA->>App: Ù…Ø±Ø§Ø¬Ø¹Ø© Ø§Ù„Ø·Ù„Ø¨
    SA->>API: PATCH /api/admin/mosque-requests/123 {approved}
    API->>Imam: ğŸ”” Ù…Ø¨Ø±ÙˆÙƒ! ØªÙ…Øª Ø§Ù„Ù…ÙˆØ§ÙÙ‚Ø© Ø¹Ù„Ù‰ Ù…Ø³Ø¬Ø¯Ùƒ
    
    Note over Imam: Ø§Ù„Ø¢Ù† ÙŠÙ…ÙƒÙ†Ù‡ Ø¯Ø¹ÙˆØ© Ø§Ù„Ù…Ø´Ø±ÙÙŠÙ†
```

---

## ğŸ“– Ø±Ø¤ÙŠØ© Ø¥Ø³Ù„Ø§Ù…ÙŠØ© ØªØ±Ø¨ÙˆÙŠØ©

### Ù…Ø±Ø§Ø¹Ø§Ø© Ø§Ù„Ø¬Ø§Ù†Ø¨ Ø§Ù„Ø´Ø±Ø¹ÙŠ ÙˆØ§Ù„ØªØ±Ø¨ÙˆÙŠ

| Ø§Ù„Ø¬Ø§Ù†Ø¨ | Ø§Ù„Ù…Ø±Ø§Ø¹Ø§Ø© ÙÙŠ Ø§Ù„ØªØ·Ø¨ÙŠÙ‚ |
|--------|-------------------|
| **Ø§Ù„Ø¥Ø®Ù„Ø§Øµ** | Ø§Ù„Ù†Ø¸Ø§Ù… ÙŠØ­ÙÙ‘Ø² Ø¹Ù„Ù‰ Ø§Ù„ØµÙ„Ø§Ø© Ù„ÙƒÙ† Ù„Ø§ ÙŠØ¬Ø¹Ù„Ù‡Ø§ "Ù„Ø¹Ø¨Ø©" ÙÙ‚Ø·. ÙƒÙ„ Ø´Ø§Ø´Ø© ÙÙŠÙ‡Ø§ Ø°ÙƒØ± Ø£Ùˆ Ø­Ø¯ÙŠØ« Ø¹Ù† ÙØ¶Ù„ Ø§Ù„ØµÙ„Ø§Ø© |
| **ÙØ¶Ù„ ØµÙ„Ø§Ø© Ø§Ù„Ø¬Ù…Ø§Ø¹Ø©** | ØµÙ„Ø§Ø© Ø§Ù„Ø¬Ù…Ø§Ø¹Ø© = Ù†Ù‚Ø§Ø· Ø£Ø¹Ù„Ù‰. ÙŠØªÙˆØ§ÙÙ‚ Ù…Ø¹ Ø­Ø¯ÙŠØ« "ØµÙ„Ø§Ø© Ø§Ù„Ø¬Ù…Ø§Ø¹Ø© Ø£ÙØ¶Ù„ Ù…Ù† ØµÙ„Ø§Ø© Ø§Ù„ÙØ° Ø¨Ø³Ø¨Ø¹ ÙˆØ¹Ø´Ø±ÙŠÙ† Ø¯Ø±Ø¬Ø©" |
| **ØµÙ„Ø§Ø© Ø§Ù„ÙØ¬Ø±** | Ù†Ù‚Ø§Ø· Ø®Ø§ØµØ© Ù„Ø£Ù† "Ù…Ù† ØµÙ„Ù‰ Ø§Ù„ÙØ¬Ø± ÙÙŠ Ø¬Ù…Ø§Ø¹Ø© ÙÙƒØ£Ù†Ù…Ø§ Ù‚Ø§Ù… Ø§Ù„Ù„ÙŠÙ„ ÙƒÙ„Ù‡". Ø­ØªÙ‰ Ù„Ùˆ ÙÙŠ Ø§Ù„Ø¨ÙŠØª = ØªØ´Ø¬ÙŠØ¹ |
| **Ø§Ù„ØµØ¯Ù‚ ÙˆØ§Ù„Ø£Ù…Ø§Ù†Ø©** | Ø§Ù„ØªØ°ÙƒÙŠØ± Ø¨Ø£Ù† ØªØ²ÙˆÙŠØ± Ø§Ù„Ø­Ø¶ÙˆØ± Ø­Ø±Ø§Ù…. Ø±Ø³Ø§Ù„Ø© Ù„Ø·ÙŠÙØ© Ø¹Ù†Ø¯ ØªØ³Ø¬ÙŠÙ„ Ø§Ù„ØµÙ„Ø§Ø© Ø§Ù„Ù…Ù†Ø²Ù„ÙŠØ© |
| **Ø¹Ø¯Ù… Ø§Ù„Ø±ÙŠØ§Ø¡** | Ù„ÙˆØ­Ø© Ø§Ù„Ø´Ø±Ù Ù…Ù‚ÙŠØ¯Ø© (Ø£ÙˆÙ„ 3 ÙÙ‚Ø·) Ù„ØªÙ‚Ù„ÙŠÙ„ Ø§Ù„Ø±ÙŠØ§Ø¡ ÙˆØ§Ù„ØªÙØ§Ø®Ø± |
| **Ø§Ù„ØªØ¯Ø±Ø¬** | Ù†Ø¨Ø¯Ø£ Ø¨Ø§Ù„ØµÙ„ÙˆØ§Øª Ø§Ù„Ø®Ù…Ø³ ÙÙ‚Ø·ØŒ ÙˆÙ„Ø§ Ù†Ø«Ù‚Ù„ Ø§Ù„Ø£Ø·ÙØ§Ù„. "Ø£Ø­Ø¨ Ø§Ù„Ø£Ø¹Ù…Ø§Ù„ Ø¥Ù„Ù‰ Ø§Ù„Ù„Ù‡ Ø£Ø¯ÙˆÙ…Ù‡Ø§ ÙˆØ¥Ù† Ù‚Ù„Ù‘" |
| **Ø§Ù„ØªØ±Ø¨ÙŠØ© Ù„Ø§ Ø§Ù„ØªØ¹Ù†ÙŠÙ** | Ø§Ù„Ù…Ù„Ø§Ø­Ø¸Ø§Øª Ù„Ù„Ø£ÙˆÙ„ÙŠØ§Ø¡ ØªØ´Ø¬ÙŠØ¹ÙŠØ© Ø£ÙˆÙ„Ø§Ù‹. Ø§Ù„ØºÙŠØ§Ø¨ = "ÙŠØ­ØªØ§Ø¬ ØªØ´Ø¬ÙŠØ¹" Ù„Ø§ "Ù…Ù‚ØµØ±" |

### Ø£Ø°ÙƒØ§Ø± ÙˆØ£Ø­Ø§Ø¯ÙŠØ« ÙÙŠ Ø§Ù„ØªØ·Ø¨ÙŠÙ‚

| Ø§Ù„Ù…ÙƒØ§Ù† | Ø§Ù„Ù…Ø­ØªÙˆÙ‰ |
|--------|---------|
| **Splash Screen** | Ø¢ÙŠØ©: ï´¿Ø¥ÙÙ†ÙÙ‘ Ø§Ù„ØµÙÙ‘Ù„ÙØ§Ø©Ù ÙƒÙØ§Ù†ÙØªÙ’ Ø¹ÙÙ„ÙÙ‰ Ø§Ù„Ù’Ù…ÙØ¤Ù’Ù…ÙÙ†ÙÙŠÙ†Ù ÙƒÙØªÙØ§Ø¨Ù‹Ø§ Ù…ÙÙ‘ÙˆÙ’Ù‚ÙÙˆØªÙ‹Ø§ï´¾ |
| **Ø¨Ø¹Ø¯ ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø­Ø¶ÙˆØ±** | Ø­Ø¯ÙŠØ« Ù…Ø®ØªÙ„Ù ÙƒÙ„ Ù…Ø±Ø© Ø¹Ù† ÙØ¶Ù„ Ø§Ù„ØµÙ„Ø§Ø© |
| **Ø´Ø§Ø±Ø© Ø¬Ø¯ÙŠØ¯Ø©** | "Ù…Ø§Ø´Ø§Ø¡ Ø§Ù„Ù„Ù‡ ØªØ¨Ø§Ø±Ùƒ Ø§Ù„Ù„Ù‡!" + Ø­Ø¯ÙŠØ« Ù…Ù†Ø§Ø³Ø¨ |
| **ØªØ°ÙƒÙŠØ± Ù‚Ø¨Ù„ Ø§Ù„ØµÙ„Ø§Ø©** | "Ø­ÙŠÙ‘ Ø¹Ù„Ù‰ Ø§Ù„ØµÙ„Ø§Ø© ğŸ•Œ" |
| **ØªÙ‚Ø±ÙŠØ± Ø£Ø³Ø¨ÙˆØ¹ÙŠ** | "Ø¨Ø§Ø±Ùƒ Ø§Ù„Ù„Ù‡ ÙÙŠÙƒ ÙˆÙÙŠ Ø§Ø¨Ù†Ùƒ" |
| **Ø³Ù„Ø³Ù„Ø© Ø¬Ø¯ÙŠØ¯Ø©** | "Ù…Ù† Ø­Ø§ÙØ¸ Ø¹Ù„ÙŠÙ‡Ø§ ÙƒØ§Ù† Ù„Ù‡ Ù†ÙˆØ±Ø§Ù‹ ÙŠÙˆÙ… Ø§Ù„Ù‚ÙŠØ§Ù…Ø©" |

### Ù…ÙŠØ²Ø© "ÙØ§Ø¦Ø¯Ø© Ø§Ù„ÙŠÙˆÙ…" ğŸ’¡
ÙƒÙ„ ÙŠÙˆÙ… ØªØ¸Ù‡Ø± ÙØ§Ø¦Ø¯Ø© ØµØºÙŠØ±Ø© Ø¹Ù† Ø§Ù„ØµÙ„Ø§Ø© ÙÙŠ Ø§Ù„Ø´Ø§Ø´Ø© Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠØ©:
- Ø­ÙƒÙ… Ù…Ù† Ø£Ø­ÙƒØ§Ù… Ø§Ù„ØµÙ„Ø§Ø© Ù…Ø¨Ø³Ø· Ù„Ù„Ø£Ø·ÙØ§Ù„
- Ù‚ØµØ© ØµØ­Ø§Ø¨ÙŠ ÙˆØµÙ„Ø§ØªÙ‡
- ÙØ¶Ù„ Ù…Ù† ÙØ¶Ø§Ø¦Ù„ Ø§Ù„ØµÙ„Ø§Ø©

---

## ğŸ—„ï¸ Ù‚Ø§Ø¹Ø¯Ø© Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª - PostgreSQL + Prisma

```prisma
// prisma/schema.prisma

model User {
  id            String   @id @default(uuid())
  firebaseUid   String   @unique
  name          String
  email         String?  @unique
  phone         String?  @unique
  role          Role     @default(PARENT)
  avatarUrl     String?
  fcmToken      String?
  isActive      Boolean  @default(true)
  createdAt     DateTime @default(now())
  
  children      Child[]
  mosqueMemberships MosqueMember[]
  notes         Note[]        @relation("NoteSender")
  corrections   CorrectionRequest[]
}

model Child {
  id            String   @id @default(uuid())
  parentId      String
  name          String
  age           Int
  qrCode        String   @unique @default(uuid())
  avatarUrl     String?
  totalPoints   Int      @default(0)
  currentStreak Int      @default(0)
  bestStreak    Int      @default(0)
  createdAt     DateTime @default(now())
  
  parent        User     @relation(fields: [parentId], references: [id])
  mosques       MosqueChild[]
  attendance    Attendance[]
  badges        Badge[]
  rewards       Reward[]
  notes         Note[]
  corrections   CorrectionRequest[]
}

model Mosque {
  id            String       @id @default(uuid())
  ownerId       String
  name          String
  code          String       @unique // ÙƒÙˆØ¯ 6 Ø£Ø­Ø±Ù
  inviteCode    String       @unique // ÙƒÙˆØ¯ Ø¯Ø¹ÙˆØ© Ø§Ù„Ù…Ø´Ø±ÙÙŠÙ†
  address       String?
  lat           Float?
  lng           Float?
  status        MosqueStatus @default(PENDING)
  prayerConfig  Json?
  createdAt     DateTime     @default(now())
  
  members       MosqueMember[]
  children      MosqueChild[]
  attendance    Attendance[]
  announcements Announcement[]
}

model MosqueMember {
  id        String     @id @default(uuid())
  mosqueId  String
  userId    String
  role      MosqueRole // OWNER Ø£Ùˆ SUPERVISOR
  joinedAt  DateTime   @default(now())
  
  mosque    Mosque     @relation(fields: [mosqueId], references: [id])
  user      User       @relation(fields: [userId], references: [id])
  
  @@unique([mosqueId, userId])
}

model MosqueChild {
  id          String     @id @default(uuid())
  mosqueId    String
  childId     String
  type        MosqueType // PRIMARY Ø£Ùˆ SECONDARY
  localNumber Int        // Ø±Ù‚Ù… Ø¯Ø§Ø®Ù„ Ø§Ù„Ù…Ø³Ø¬Ø¯
  isActive    Boolean    @default(true)
  joinedAt    DateTime   @default(now())
  
  mosque      Mosque     @relation(fields: [mosqueId], references: [id])
  child       Child      @relation(fields: [childId], references: [id])
  
  @@unique([mosqueId, childId])
}

model Attendance {
  id             String   @id @default(uuid())
  childId        String
  mosqueId       String?  // null = Ù…Ù†Ø²Ù„
  recordedById   String
  prayer         Prayer
  locationType   LocationType
  pointsEarned   Int
  prayerDate     DateTime @db.Date
  syncedOffline  Boolean  @default(false)
  recordedAt     DateTime @default(now())
  
  child          Child    @relation(fields: [childId], references: [id])
  mosque         Mosque?  @relation(fields: [mosqueId], references: [id])
  
  @@unique([childId, prayer, prayerDate]) // Ù…Ù†Ø¹ Ø§Ù„ØªÙƒØ±Ø§Ø±
}

model Badge {
  id        String   @id @default(uuid())
  childId   String
  type      String
  nameAr    String
  earnedAt  DateTime @default(now())
  
  child     Child    @relation(fields: [childId], references: [id])
}

model Reward {
  id            String   @id @default(uuid())
  childId       String
  parentId      String
  title         String
  targetPoints  Int
  isClaimed     Boolean  @default(false)
  createdAt     DateTime @default(now())
  
  child         Child    @relation(fields: [childId], references: [id])
}

model CorrectionRequest {
  id         String           @id @default(uuid())
  childId    String
  parentId   String
  mosqueId   String
  prayer     Prayer
  prayerDate DateTime         @db.Date
  status     CorrectionStatus @default(PENDING)
  note       String?
  reviewedBy String?
  createdAt  DateTime         @default(now())
  reviewedAt DateTime?
  
  child      Child            @relation(fields: [childId], references: [id])
  parent     User             @relation(fields: [parentId], references: [id])
}

model Note {
  id        String   @id @default(uuid())
  childId   String
  senderId  String
  mosqueId  String
  message   String
  isRead    Boolean  @default(false)
  createdAt DateTime @default(now())
  
  child     Child    @relation(fields: [childId], references: [id])
  sender    User     @relation("NoteSender", fields: [senderId], references: [id])
}

model Announcement {
  id        String   @id @default(uuid())
  mosqueId  String
  senderId  String
  title     String
  body      String
  createdAt DateTime @default(now())
  
  mosque    Mosque   @relation(fields: [mosqueId], references: [id])
}

// Enums
enum Role {
  SUPER_ADMIN
  PARENT
  IMAM
}

enum MosqueStatus {
  PENDING
  APPROVED
  REJECTED
}

enum MosqueRole {
  OWNER
  SUPERVISOR
}

enum MosqueType {
  PRIMARY
  SECONDARY
}

enum Prayer {
  FAJR
  DHUHR
  ASR
  MAGHRIB
  ISHA
}

enum LocationType {
  MOSQUE
  HOME
}

enum CorrectionStatus {
  PENDING
  APPROVED
  REJECTED
}
```

---

## â˜ï¸ Ø§Ù„Ø§Ø³ØªØ¶Ø§ÙØ© ÙˆØ§Ù„ØªÙƒÙ„ÙØ©

| Ø§Ù„Ø®Ø¯Ù…Ø© | Ø§Ù„Ø®ÙŠØ§Ø± Ø§Ù„Ù…Ø¬Ø§Ù†ÙŠ | Ø§Ù„Ø®ÙŠØ§Ø± Ø§Ù„Ù…Ø¯ÙÙˆØ¹ |
|--------|---------------|---------------|
| **Express Server** | Railway.app (Ù…Ø¬Ø§Ù†ÙŠ) Ø£Ùˆ Render | DigitalOcean $5/Ø´Ù‡Ø± |
| **PostgreSQL** | Neon.tech (Ù…Ø¬Ø§Ù†ÙŠ) Ø£Ùˆ Railway | Supabase DB Ù…Ø¬Ø§Ù†ÙŠ |
| **Firebase Auth** | Ù…Ø¬Ø§Ù†ÙŠ Ø­ØªÙ‰ 50K Ù…Ø³ØªØ®Ø¯Ù… | - |
| **Firebase FCM** | Ù…Ø¬Ø§Ù†ÙŠ Ø¨Ø§Ù„ÙƒØ§Ù…Ù„ | - |
| **Ø§Ù„ØªÙƒÙ„ÙØ© Ø§Ù„Ø´Ù‡Ø±ÙŠØ©** | **$0** (Ù„Ù„Ø¨Ø¯Ø§ÙŠØ©) | **$5-15** |

---

## ğŸŒ Ø³ÙŠÙ†Ø§Ø±ÙŠÙˆÙ‡Ø§Øª "Ù…Ø§Ø°Ø§ Ù„ÙˆØŸ"

### Ø§Ù„Ø¥Ù†ØªØ±Ù†Øª

| Ù…Ø§Ø°Ø§ Ù„Ùˆ | Ø§Ù„Ø­Ù„ |
|---------|------|
| Ø§Ù„Ù…Ø´Ø±Ù Ø¨Ø¯ÙˆÙ† Ù†Øª Ø£Ø«Ù†Ø§Ø¡ Ø§Ù„ØªØ­Ø¶ÙŠØ± | ÙŠØ­ÙØ¸ Ù…Ø­Ù„ÙŠØ§Ù‹ â†’ ÙŠØ²Ø§Ù…Ù† Ù„Ù…Ø§ Ø§Ù„Ù†Øª ÙŠØ±Ø¬Ø¹ + Ø´Ø±ÙŠØ· "âš¡ ÙˆØ¶Ø¹ Offline" |
| Ø§Ù„Ù†Øª Ù‚Ø·Ø¹ ÙÙŠ Ø§Ù„Ù…Ù†ØªØµÙ | ÙƒÙ„ Scan ÙŠÙØ­ÙØ¸ Ù…Ø­Ù„ÙŠØ§Ù‹ Ø£ÙˆÙ„Ø§Ù‹ Ø«Ù… ÙŠÙØ²Ø§Ù…Ù† |
| Ù…Ø²Ø§Ù…Ù†Ø© Ø¨ÙŠØ§Ù†Ø§Øª Ù…ØªØ¹Ø§Ø±Ø¶Ø© | Last-Write-Wins + timestamp Ù…Ù† Ø§Ù„Ø¬Ù‡Ø§Ø² |

### Ø§Ù„Ù‚ÙŠÙˆØ¯ ÙˆØ§Ù„Ø¨Ø·Ø§Ù‚Ø§Øª

| Ù…Ø§Ø°Ø§ Ù„Ùˆ | Ø§Ù„Ø­Ù„ |
|---------|------|
| Ù†Ø³ÙŠ Ø§Ù„Ø¨Ø·Ø§Ù‚Ø© | Ø±Ù‚Ù… Ø§Ù„Ø·Ø§Ù„Ø¨ Ø£Ùˆ Ø§Ù„Ø¨Ø­Ø« Ø¨Ø§Ù„Ø§Ø³Ù… Ø£Ùˆ Ø¶ØºØ·Ø© Ù…Ù† Ø§Ù„Ù‚Ø§Ø¦Ù…Ø© |
| Ø§Ù„Ø¨Ø·Ø§Ù‚Ø© ØªÙ„ÙØª | Ø§Ù„Ø£Ø¨ ÙŠÙˆÙ„Ù‘Ø¯ QR Ø¬Ø¯ÙŠØ¯ â†’ Ø§Ù„ÙƒÙˆØ¯ Ø§Ù„Ù‚Ø¯ÙŠÙ… ÙŠÙØ¨Ø·Ù„ |
| ØªØ¨Ø¯ÙŠÙ„ Ø¨Ø·Ø§Ù‚Ø§Øª | Ø§Ù„Ù…Ø´Ø±Ù ÙŠØ±Ù‰ Ø§Ù„Ø§Ø³Ù… Ø¨Ø¹Ø¯ Ø§Ù„Ù€ Scan â† ÙŠØªØ­Ù‚Ù‚ |
| Ø§Ù„Ø·ÙÙ„ Ù…Ø¹Ù‡ Ø¬ÙˆØ§Ù„ Ø£Ø¨ÙˆÙ‡ | ÙŠØ¹Ø±Ø¶ QR Ù…Ù† Ø§Ù„ØªØ·Ø¨ÙŠÙ‚ Ù…Ø¨Ø§Ø´Ø±Ø© |

### Ø§Ù„Ø­Ø¶ÙˆØ±

| Ù…Ø§Ø°Ø§ Ù„Ùˆ | Ø§Ù„Ø­Ù„ |
|---------|------|
| Ù†Ø³ÙŠ Ø§Ù„Ù…Ø´Ø±Ù ÙŠØ­Ø¶Ø± Ø·ÙÙ„ | Ø·Ù„Ø¨ ØªØµØ­ÙŠØ­ Ù…Ù† Ø§Ù„Ø£Ø¨ â†’ Ø§Ù„Ù…Ø´Ø±Ù ÙŠÙˆØ§ÙÙ‚ |
| Ù†Ø³ÙŠ ØªØ­Ø¶ÙŠØ± ØµÙ„Ø§Ø© ÙƒØ§Ù…Ù„Ø© | Cron Job ÙŠÙƒØ´Ù ÙˆÙŠØ±Ø³Ù„ ØªÙ†Ø¨ÙŠÙ‡ Ù„Ù„Ù…Ø¯ÙŠØ± |
| Ø­Ø¶Ù‘Ø± Ø·ÙÙ„ ØºÙ„Ø· | ÙŠÙ„ØºÙŠ Ø§Ù„Ø­Ø¶ÙˆØ± Ù†ÙØ³ Ø§Ù„ÙŠÙˆÙ… |
| ØªØ³Ø¬ÙŠÙ„ Ù…Ø²Ø¯ÙˆØ¬ | Unique constraint ÙŠÙ…Ù†Ø¹ ØªÙ„Ù‚Ø§Ø¦ÙŠØ§Ù‹ |
| Ø§Ù„Ø£Ø¨ Ø²ÙˆÙ‘Ø± Ø§Ù„ÙØ¬Ø± | Ù†Ø¸Ø§Ù… Ø«Ù‚Ø© + 3 Ù†Ù‚Ø§Ø· ÙÙ‚Ø· (Ø¨Ø¯Ù„ 10) |

### Ø¥Ø¯Ø§Ø±ÙŠØ©

| Ù…Ø§Ø°Ø§ Ù„Ùˆ | Ø§Ù„Ø­Ù„ |
|---------|------|
| Ù…Ø¯ÙŠØ± Ø§Ù„Ù…Ø³Ø¬Ø¯ ØªØ±Ùƒ | ÙŠØ¹ÙŠÙ‘Ù† Ù…Ø¯ÙŠØ± Ø¬Ø¯ÙŠØ¯ Ù‚Ø¨Ù„ Ø§Ù„Ù…ØºØ§Ø¯Ø±Ø©ØŒ Ø£Ùˆ ÙŠØªÙˆØ§ØµÙ„ Ù…Ø¹ Super Admin |
| Ù…Ø´Ø±Ù ØªØ±Ùƒ | Ø§Ù„Ù…Ø¯ÙŠØ± ÙŠØ²ÙŠÙ„Ù‡ |
| Ø§Ù„ÙƒÙ„ ÙŠÙ†Ø´Ø¦ Ø­Ø³Ø§Ø¨ Ø¥Ù…Ø§Ù… | Super Admin ÙŠÙˆØ§ÙÙ‚ ÙÙ‚Ø· Ø¹Ù„Ù‰ Ø§Ù„Ù…Ø³Ø§Ø¬Ø¯ Ø§Ù„Ø­Ù‚ÙŠÙ‚ÙŠØ© |
| Ù…Ø³Ø¬Ø¯ Ø¨Ø¯ÙˆÙ† Ø·Ù„Ø§Ø¨ | ÙŠØ¨Ù‚Ù‰ ÙØ¹Ø§Ù„ØŒ Ù„Ø§ Ù…Ø´ÙƒÙ„Ø© |

---

## ğŸ“± Flutter - Ø§Ù„Ø¨Ø§ÙƒØ¬Ø§Øª Ø§Ù„Ù†Ù‡Ø§Ø¦ÙŠØ©

```yaml
dependencies:
  flutter:
    sdk: flutter
  
  # State Management + DI
  flutter_bloc: ^9.1.1
  get_it: ^9.2.0
  
  # Auth + Notifications
  firebase_core: ^3.x.x
  firebase_auth: ^5.x.x
  firebase_messaging: ^15.x.x
  
  # HTTP + API
  dio: ^5.x.x                       # HTTP client
  
  # Navigation
  go_router: ^14.x.x
  
  # QR Code
  mobile_scanner: ^6.x.x
  qr_flutter: ^4.x.x
  
  # UI Ø§Ù„Ø¬Ù…ÙŠÙ„Ø©
  awesome_dialog: ^3.x.x
  elegant_notification: ^2.x.x
  flutter_animate: ^4.x.x
  shimmer: ^3.x.x
  lottie: ^3.x.x
  confetti: ^0.8.x
  
  # Ø§Ù„ØµÙˆØ± ÙˆØ§Ù„Ø®Ø·ÙˆØ·
  cached_network_image: ^3.x.x
  flutter_svg: ^2.x.x
  google_fonts: ^6.x.x              # Cairo / Tajawal
  
  # Ø±Ø³ÙˆÙ… Ø¨ÙŠØ§Ù†ÙŠØ©
  fl_chart: ^0.69.x
  
  # ØªØ®Ø²ÙŠÙ† Ù…Ø­Ù„ÙŠ
  hive_flutter: ^1.x.x
  
  # Ø£Ø®Ø±Ù‰
  intl: ^0.19.x
  permission_handler: ^11.x.x
  share_plus: ^10.x.x
  printing: ^5.x.x                  # Ø·Ø¨Ø§Ø¹Ø© QR ÙƒÙ€ PDF
  connectivity_plus: ^6.x.x         # Ù…Ø±Ø§Ù‚Ø¨Ø© Ø§Ù„Ø¥Ù†ØªØ±Ù†Øª
```

---

## ğŸ“± Ø§Ù„Ø´Ø§Ø´Ø§Øª (21 Ø´Ø§Ø´Ø©)

| # | Ø§Ù„Ø´Ø§Ø´Ø© | Ø§Ù„Ø¯ÙˆØ± | Ø§Ù„ÙˆØµÙ |
|---|--------|------|-------|
| 1 | Splash | Ø§Ù„ÙƒÙ„ | Ø´Ø¹Ø§Ø± + Ø¢ÙŠØ© + Ø£Ù†ÙŠÙ…ÙŠØ´Ù† |
| 2 | Ø§Ø®ØªÙŠØ§Ø± Ø§Ù„Ø¯ÙˆØ± | Ø§Ù„ÙƒÙ„ | ÙˆÙ„ÙŠ Ø£Ù…Ø± / Ø¥Ù…Ø§Ù… |
| 3 | ØªØ³Ø¬ÙŠÙ„ Ø¯Ø®ÙˆÙ„ | Ø§Ù„ÙƒÙ„ | Ø¥ÙŠÙ…ÙŠÙ„ + Ù‡Ø§ØªÙ + Google |
| 4 | Ø¥Ù†Ø´Ø§Ø¡ Ø­Ø³Ø§Ø¨ | Ø§Ù„ÙƒÙ„ | Ø¨ÙŠØ§Ù†Ø§Øª + Ø§Ø®ØªÙŠØ§Ø± Ø§Ù„Ø¯ÙˆØ± |
| 5 | Ø·Ù„Ø¨ Ø¥Ù†Ø´Ø§Ø¡ Ù…Ø³Ø¬Ø¯ | Ø¥Ù…Ø§Ù… | Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ù…Ø³Ø¬Ø¯ â†’ ÙŠÙ†ØªØ¸Ø± Ø§Ù„Ù…ÙˆØ§ÙÙ‚Ø© |
| 6 | Ø§Ù„Ø§Ù†Ø¶Ù…Ø§Ù… Ù„Ù…Ø³Ø¬Ø¯ | Ø¥Ù…Ø§Ù… | Ø¥Ø¯Ø®Ø§Ù„ ÙƒÙˆØ¯ Ø§Ù„Ø¯Ø¹ÙˆØ© |
| 7 | Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠØ© | ÙˆÙ„ÙŠ Ø£Ù…Ø± | Ù…Ù„Ø®Øµ Ø§Ù„ÙŠÙˆÙ… + Ù†Ù‚Ø§Ø· + Ø¥Ø´Ø¹Ø§Ø±Ø§Øª |
| 8 | Ø§Ù„ØªÙ‚Ø§Ø±ÙŠØ± | ÙˆÙ„ÙŠ Ø£Ù…Ø± | Ø±Ø³ÙˆÙ… Ø¨ÙŠØ§Ù†ÙŠØ© Ø£Ø³Ø¨ÙˆØ¹ÙŠØ©/Ø´Ù‡Ø±ÙŠØ© |
| 9 | Ù„ÙˆØ­Ø© Ø§Ù„Ø´Ø±Ù | ÙˆÙ„ÙŠ Ø£Ù…Ø± | Ø£ÙˆÙ„ 3 + ØªØ±ØªÙŠØ¨ Ø§Ø¨Ù†Ù‡ |
| 10 | Ø§Ù„Ø¬ÙˆØ§Ø¦Ø² | ÙˆÙ„ÙŠ Ø£Ù…Ø± | Ø¥Ø¶Ø§ÙØ©/ØªØªØ¨Ø¹ Ø¬ÙˆØ§Ø¦Ø² |
| 11 | Ø¨Ø·Ø§Ù‚Ø© Ø§Ù„Ø·ÙÙ„ | ÙˆÙ„ÙŠ Ø£Ù…Ø± | QR + Ø·Ø¨Ø§Ø¹Ø© + Ù…Ø´Ø§Ø±ÙƒØ© |
| 12 | ØµÙ„Ø§Ø© Ù…Ù†Ø²Ù„ÙŠØ© | ÙˆÙ„ÙŠ Ø£Ù…Ø± | ØªØ³Ø¬ÙŠÙ„ âœ…/âŒ |
| 13 | Ø·Ù„Ø¨ ØªØµØ­ÙŠØ­ | ÙˆÙ„ÙŠ Ø£Ù…Ø± | ØªØ­Ø¯ÙŠØ¯ ØµÙ„Ø§Ø© + Ø¥Ø±Ø³Ø§Ù„ |
| 14 | Ø§Ù„Ø¨Ø±ÙˆÙØ§ÙŠÙ„ | ÙˆÙ„ÙŠ Ø£Ù…Ø± | Ø¥Ø¹Ø¯Ø§Ø¯Ø§Øª + Ø£Ø·ÙØ§Ù„ + Ù…Ø³Ø§Ø¬Ø¯ |
| 15 | Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠØ© | Ù…Ø´Ø±Ù | Ø¥Ø­ØµØ§Ø¦ÙŠØ§Øª + Ø§Ù„ØµÙ„Ø§Ø© Ø§Ù„Ù‚Ø§Ø¯Ù…Ø© |
| 16 | Ø§Ù„ØªØ­Ø¶ÙŠØ± | Ù…Ø´Ø±Ù | QR + Ø±Ù‚Ù… + Ø§Ø³Ù… + Ù‚Ø§Ø¦Ù…Ø© |
| 17 | Ø§Ù„Ø·Ù„Ø§Ø¨ | Ù…Ø´Ø±Ù | Ø¨Ø­Ø« + ÙÙ„ØªØ± + ØªÙØ§ØµÙŠÙ„ |
| 18 | Ø·Ù„Ø¨Ø§Øª Ø§Ù„ØªØµØ­ÙŠØ­ | Ù…Ø´Ø±Ù | Ù‚Ø¨ÙˆÙ„/Ø±ÙØ¶ |
| 19 | Ù…Ù„Ø§Ø­Ø¸Ø§Øª Ø³Ø±ÙŠØ¹Ø© | Ù…Ø´Ø±Ù | Ø±Ø³Ø§Ø¦Ù„ Ø¬Ø§Ù‡Ø²Ø© + Ù…Ø®ØµØµØ© |
| 20 | Ø¥Ø¯Ø§Ø±Ø© Ø§Ù„Ù…Ø´Ø±ÙÙŠÙ† | Ù…Ø¯ÙŠØ± | Ø¯Ø¹ÙˆØ©/Ø¥Ø²Ø§Ù„Ø© + ÙƒÙˆØ¯ Ø§Ù„Ø¯Ø¹ÙˆØ© |
| 21 | Ù„ÙˆØ­Ø© Super Admin | SA | Ø·Ù„Ø¨Ø§Øª + Ø¥Ø­ØµØ§Ø¦ÙŠØ§Øª Ø¹Ø§Ù…Ø© |

---

## ğŸš€ Ø®Ø·Ø© Ø§Ù„ØªÙ†ÙÙŠØ° (5 Ù…Ø±Ø§Ø­Ù„)

### Ø§Ù„Ù…Ø±Ø­Ù„Ø© 1: Ø§Ù„Ø¨Ù†ÙŠØ© Ø§Ù„ØªØ­ØªÙŠØ© (Ø£Ø³Ø¨ÙˆØ¹ 1-2)
- [ ] Express.js project setup + TypeScript
- [ ] PostgreSQL + Prisma schema + migrations
- [ ] Firebase Admin SDK setup
- [ ] Auth middleware (JWT verification)
- [ ] Role middleware + validation
- [ ] API endpoints Ø£Ø³Ø§Ø³ÙŠØ© (auth, users)
- [ ] Flutter: Theme + Ø£Ù„ÙˆØ§Ù† + Ø®Ø·ÙˆØ· Ø¹Ø±Ø¨ÙŠØ©
- [ ] Flutter: Splash + Onboarding + Auth screens
- [ ] Flutter: Dio HTTP client + interceptors

### Ø§Ù„Ù…Ø±Ø­Ù„Ø© 2: Ø§Ù„Ù…Ø´Ø±Ù + Ø§Ù„Ù…Ø³Ø¬Ø¯ (Ø£Ø³Ø¨ÙˆØ¹ 3)
- [ ] API: CRUD mosques + Super Admin approval
- [ ] API: Supervisors management (invite/remove)
- [ ] API: Attendance (scan/number/name)
- [ ] API: Students listing
- [ ] Flutter: Dashboard Ø§Ù„Ù…Ø´Ø±Ù
- [ ] Flutter: QR Scanner + Ø¨Ø­Ø« Ø±Ù‚Ù…/Ø§Ø³Ù…
- [ ] Flutter: Ù‚Ø§Ø¦Ù…Ø© Ø§Ù„Ø·Ù„Ø§Ø¨
- [ ] Flutter: Ø¥Ø¯Ø§Ø±Ø© Ø§Ù„Ù…Ø´Ø±ÙÙŠÙ†
- [ ] Offline Queue (Hive) + Sync

### Ø§Ù„Ù…Ø±Ø­Ù„Ø© 3: ÙˆÙ„ÙŠ Ø§Ù„Ø£Ù…Ø± (Ø£Ø³Ø¨ÙˆØ¹ 4)
- [ ] API: Children CRUD + QR generation
- [ ] API: Mosque enrollment (primary/secondary)
- [ ] API: Home prayer recording
- [ ] API: Corrections
- [ ] API: Notes
- [ ] Flutter: Dashboard ÙˆÙ„ÙŠ Ø§Ù„Ø£Ù…Ø±
- [ ] Flutter: Ø¥Ø¶Ø§ÙØ© Ø£Ø·ÙØ§Ù„ + Ø¨Ø·Ø§Ù‚Ø© QR
- [ ] Flutter: ØµÙ„Ø§Ø© Ù…Ù†Ø²Ù„ÙŠØ© + ØªØµØ­ÙŠØ­
- [ ] Push Notifications (FCM) - ÙƒÙ„ Ø§Ù„Ø£Ù†ÙˆØ§Ø¹

### Ø§Ù„Ù…Ø±Ø­Ù„Ø© 4: Ø§Ù„ØªØ­ÙÙŠØ² + Ø§Ù„ØªÙ‚Ø§Ø±ÙŠØ± (Ø£Ø³Ø¨ÙˆØ¹ 5)
- [ ] API: Points system + badge evaluation
- [ ] API: Leaderboard (privacy-aware)
- [ ] API: Rewards CRUD
- [ ] API: Reports (weekly/monthly charts data)
- [ ] Cron: Weekly report + missing attendance alert
- [ ] Flutter: Ù„ÙˆØ­Ø© Ø§Ù„Ø´Ø±Ù + Ø´Ø§Ø±Ø§Øª
- [ ] Flutter: Ø¬ÙˆØ§Ø¦Ø² + confetti ğŸŠ
- [ ] Flutter: Ø±Ø³ÙˆÙ… Ø¨ÙŠØ§Ù†ÙŠØ© (fl_chart)

### Ø§Ù„Ù…Ø±Ø­Ù„Ø© 5: Ø§Ù„ØªÙ„Ù…ÙŠØ¹ (Ø£Ø³Ø¨ÙˆØ¹ 6)
- [ ] Super Admin panel
- [ ] Ø£Ù†ÙŠÙ…ÙŠØ´Ù† + Lottie + polishing
- [ ] Ø£Ø­Ø§Ø¯ÙŠØ« ÙˆØ£Ø°ÙƒØ§Ø± ÙÙŠ Ø§Ù„ØªØ·Ø¨ÙŠÙ‚
- [ ] Ø§Ø®ØªØ¨Ø§Ø± Offline ÙƒØ§Ù…Ù„
- [ ] Security review
- [ ] Ø¨Ù†Ø§Ø¡ APK + ØªØ¬Ø±Ø¨Ø© ÙØ¹Ù„ÙŠØ©
- [ ] Deploy Express to Railway/Render

---

## âœ… Ù…Ù„Ø®Øµ Ø§Ù„Ù‚Ø±Ø§Ø±Ø§Øª Ø§Ù„Ù†Ù‡Ø§Ø¦ÙŠØ©

| Ø§Ù„Ù‚Ø±Ø§Ø± | Ø§Ù„Ø§Ø®ØªÙŠØ§Ø± |
|--------|---------|
| Backend | **Express.js + TypeScript** |
| Database | **PostgreSQL + Prisma** |
| Auth | **Firebase Auth** |
| Notifications | **Firebase FCM** |
| State Management | **flutter_bloc** |
| DI | **get_it** |
| Navigation | **go_router** |
| Ø§Ù„Ù„ØºØ© | **Ø¹Ø±Ø¨ÙŠ ÙÙ‚Ø·** |
| Super Admin | **âœ… Ù†Ø¹Ù… - ÙŠÙˆØ§ÙÙ‚ Ø¹Ù„Ù‰ Ø§Ù„Ù…Ø³Ø§Ø¬Ø¯** |
| Ø£ÙÙƒØ§Ø± Ø¥Ø¨Ø¯Ø§Ø¹ÙŠØ© | **âŒ Ù„ÙŠØ³ ÙÙŠ MVP** |
| Offline | **âœ… Hive + Sync Queue** |
| Hosting | **Railway/Render (Ù…Ø¬Ø§Ù†ÙŠ)** |
