# ุฎุทุฉ ุงูุชุทููุฑ ุงูุดุงููุฉ โ ุตูุงุชู ุญูุงุชู
> ุขุฎุฑ ุชุญุฏูุซ: 2026-02-24

## ูุฑุงุฑุงุช ุงูุชุตููู ุงููุญุณููุฉ

| ุงูุณุคุงู | ุงููุฑุงุฑ |
|--------|--------|
| ูู ุงูุงุจู ูุณุฌู ุฏุฎูู ูููุตูุ | **ูุนู** โ ุญุณุงุจ ููุดุฆู ุงููุงูุฏุ ุดุงุดุฉ ุจุณูุทุฉ (ูุนูููุงุชู + ููุงุทู) |
| ุงูุฅุดุนุงุฑุงุช Push | **ูุคุฌูุฉ** โ ุชูุถุงู ูุงุญูุงู |
| ุฑุฏ ุงููุงูุฏ ุนูู ููุงุญุธุฉ ุงููุดุฑู | **ูุนู โ ุฑุฏ ูุงุญุฏ ููุท** (ุชูุงุตูู ุฃุฏูุงู) |

### ุชุตููู ุฑุฏ ุงููุงูุฏ ุนูู ุงูููุงุญุธุงุช (One-Reply Design)

**ุงูููุฑุฉ:** ูู ููุงุญุธุฉ ูููู ุฃู ูุถูู ุนูููุง ุงููุงูุฏ ุฑุฏูุงู ูุงุญุฏุงู ููุท โ ุจุนุฏูุง ุชูููู.

**UI:**
```
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
โ ๐ง ุงููุดุฑู ุฃุญูุฏ              10:30 ุต โ
โ "ุงุจูู ูุงู ูุดุชุชุงู ูู ุงูุญูุธ ุงูููู"   โ
โ                                     โ
โ โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ โ
โ โ ๐จ ุฑุฏู              10:45 ุต    โ โ   โ ูู ุฑุฏู ูุณุจูุงู
โ โ "ุดูุฑุงูุ ุณุฃุชุญุฏุซ ูุนู ุงูููู"      โ โ
โ โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ โ
โ         ุฃู                          โ
โ [  ุฑุฏ ุนูู ูุฐู ุงูููุงุญุธุฉ...  ] [ุฅุฑุณุงู]โ   โ ูู ูู ูุฑุฏ ุจุนุฏ
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
```

**ูุงุนุฏุฉ ุงูุจูุงูุงุช:** ุฅุถุงูุฉ ุนููุฏูู ูุฌุฏูู `notes`:
```sql
ALTER TABLE notes
  ADD COLUMN parent_reply TEXT,
  ADD COLUMN parent_replied_at TIMESTAMPTZ;
```

**ุงูููุงุนุฏ:**
- ุงูุฑุฏ ูุฑุฉ ูุงุญุฏุฉ ููุท (ุจุนุฏูุง ุงูุฒุฑ ูุฎุชูู)
- ุงููุดุฑู ูุฑู ุงูุฑุฏ ูู ุดุงุดุชู
- ูุง ูููู ุชุนุฏูู ุงูุฑุฏ ุจุนุฏ ุงูุฅุฑุณุงู

---

## ูุจุฏุฃ ุงูุชุตููู ุงูุฌููุฑู

```
ูู ููุฒุฉ ุงุณุชูุจุงู โ ุชุญุชุงุฌ ููุฒุฉ ุฅุฑุณุงู ููุงุจูุฉ

Super Admin โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
     โ ูุฑุณู ุฅุนูุงูุงุช ููุฃุฆูุฉ
   Imam โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
     โ ูุฑุณู ุฅุนูุงูุงุช ููุฃูููุงุก
  Supervisor โโโโโโโโโโโโโโโโโโโโโโโโโโโโ
     โ ูุฑุณู ููุงุญุธุงุช ูุฃูููุงุก ูุฌููุนุชู
   Parent โ ูุณุชูุจู ุงููู
     โ ูุฑู ุจูุงูุงุช ุฃุจูุงุฆู
   Child โ ูุณุชูุจู ููุฑู ููุงุทู
```

---

## ุฌุฏุงูู Supabase ุงููุทููุจุฉ (SQL Migrations)

> ูุฌุจ ุชูููุฐูุง ูุจู ุฃู ููุฏ:

```sql
-- ุฌุฏูู ุงูุฅุนูุงูุงุช
CREATE TABLE announcements (
  id UUID PRIMARY KEY DEFAULT gen_random_uuid(),
  mosque_id UUID REFERENCES mosques(id) ON DELETE CASCADE,  -- null = ููุตุฉ ูุงููุฉ
  sender_id UUID NOT NULL REFERENCES users(id),
  sender_role TEXT NOT NULL, -- 'super_admin' | 'imam' | 'supervisor'
  target_role TEXT NOT NULL, -- 'imam' | 'parent' | 'supervisor' | 'all'
  supervisor_group_id UUID REFERENCES supervisor_groups(id), -- null = ุงููู
  title TEXT NOT NULL,
  body TEXT NOT NULL,
  type TEXT NOT NULL DEFAULT 'general',
  -- 'general' | 'competition_preview' | 'event' | 'reminder'
  created_at TIMESTAMPTZ DEFAULT NOW()
);

-- ุฌุฏูู ุชุชุจุน ุงููุฑุงุกุฉ
CREATE TABLE announcement_reads (
  id UUID PRIMARY KEY DEFAULT gen_random_uuid(),
  announcement_id UUID NOT NULL REFERENCES announcements(id) ON DELETE CASCADE,
  user_id UUID NOT NULL REFERENCES users(id),
  read_at TIMESTAMPTZ DEFAULT NOW(),
  UNIQUE(announcement_id, user_id)
);

-- ุชูุนูู Realtime
ALTER PUBLICATION supabase_realtime ADD TABLE announcements;
ALTER PUBLICATION supabase_realtime ADD TABLE announcement_reads;
```

---

## ุงููุฑุญูุฉ 0 โ ุฃุณุงุณูุงุช ููุฑูุฉ (ุงูุฃุณุจูุน ุงูุฃูู)

> ูุฐู ุงูููุงู ูููุตูุฉ ูุจุณูุทุฉุ ุชููุฌุฒ ุฃููุงู.

### 0.1 ุฅุตูุงุญ GPS ูุฃููุงุช ุงูุตูุงุฉ

**ุงููุดููุฉ:** `prayer_times_service.dart` ูุณุชุฎุฏู ุฅุญุฏุงุซูุงุช ุซุงุจุชุฉ ูุนููุงู.

**ุงููููุงุช:**
- `lib/app/core/services/prayer_times_service.dart`
- `android/app/src/main/AndroidManifest.xml`
- `ios/Runner/Info.plist`

**ุงูุฎุทูุงุช:**
1. ุฅุถุงูุฉ ุตูุงุญูุงุช ูู `AndroidManifest.xml`:
   ```xml
   <uses-permission android:name="android.permission.ACCESS_FINE_LOCATION"/>
   <uses-permission android:name="android.permission.ACCESS_COARSE_LOCATION"/>
   ```
2. ุฅุถุงูุฉ ููุงุชูุญ ูู `Info.plist`:
   ```xml
   <key>NSLocationWhenInUseUsageDescription</key>
   <string>ูุญุชุงุฌ ูููุนู ูุญุณุงุจ ุฃููุงุช ุงูุตูุงุฉ ุงูุฏูููุฉ</string>
   ```
3. ูู `prayer_times_service.dart`: ุฅุถุงูุฉ ุฏุงูุฉ `_getCurrentLocation()` ุชุณุชุฎุฏู `geolocator` ูุน fallback ููุฅุญุฏุงุซูุงุช ุงูุซุงุจุชุฉ ุฅู ุฑููุถุช ุงูุตูุงุญูุฉ.
4. ุชุนุฏูู `loadPrayerTimes()` ูุงุณุชุฏุนุงุก `_getCurrentLocation()` ุฃููุงู.

---

### 0.2 ุฅุตูุงุญ ุฒุฑ ุงููุณุฎ ูู Home Screen

**ุงูููู:** `lib/app/features/parent/presentation/screens/home_screen.dart`

**ุงูุฎุทูุงุช:**
1. ูุฑุงุกุฉ ุงูููุฏ ุงูุญุงูู ูุชุญุฏูุฏ ุงููุดููุฉ ุจุงูุถุจุท.
2. ุฅุตูุงุญ ุงุณุชุฏุนุงุก `Clipboard.setData()` ูุน `await`.
3. ุฅุถุงูุฉ SnackBar ุจุนุฏ ุงููุณุฎ: "ุชู ูุณุฎ ุงูุฑูุฒ".

---

### 0.3 ุดุงุดุฉ ุชุนุฏูู ุงูููู ุงูุดุฎุตู (ูู ุงูุฃุฏูุงุฑ)

**ุงููููุงุช:**
- `lib/app/features/profile/presentation/screens/profile_screen.dart`
- `lib/app/features/auth/data/repositories/auth_repository.dart`

**ูุง ูุญุชุงุฌู:**
- ุชุนุฏูู ุงูุงุณู โ (ููุฌูุฏ โ ุงูุชุญูู ูู ุงูุญูุธ)
- ุชุบููุฑ ูููุฉ ุงููุฑูุฑ (ููููุฏ โ ุฅุถุงูุฉ Bottom Sheet)
- ุชุบููุฑ ุงูุตูุฑุฉ ุงูุดุฎุตูุฉ (ููููุฏ โ image_picker + Supabase Storage)
- validator ูุฑูู ุงููุงุชู (ููููุฏ)

**ุงูุฎุทูุงุช:**
1. ุฅุถุงูุฉ `image_picker` ูุงุฎุชูุงุฑ ุตูุฑุฉ + ุฑูุนูุง ูู Supabase Storage.
2. ุฅุถุงูุฉ Bottom Sheet ูุชุบููุฑ ูููุฉ ุงููุฑูุฑ (ูููุฉ ุงููุฑูุฑ ุงูุญุงููุฉ + ุงูุฌุฏูุฏุฉ + ุชุฃููุฏ).
3. ุงูุชุญูู ูู ุฃู `updateUserProfile` ูุญูุธ `phone` ุตุญูุญุงู.
4. validator ูุฑูู ุงููุงุชู: 10 ุฃุฑูุงู.

---

### 0.4 ุงูุฅุนูุงูุงุช โ MVP

#### ุฌุงูุจ ุงูุฅูุงู (ุงูุฅุฑุณุงู):
**ููู ุฌุฏูุฏ:** `lib/app/features/imam/presentation/screens/send_announcement_screen.dart`

```
[ุนููุงู ุงูุฅุนูุงู      ]
[ูุต ุงูุฅุนูุงู         ]
ุงูููุน: โ ุนุงู  โ ุชูููุฏ ูุณุงุจูุฉ  โ ุชุฐููุฑ  โ ุญุฏุซ
ุงููุณุชูุฏู: โ ูู ุงูุฃูููุงุก  โ ูุดุฑู ูุญุฏุฏ
[ุฅุฑุณุงู]
```

#### ุฌุงูุจ ููู ุงูุฃูุฑ (ุงูุงุณุชูุจุงู):
**ููู ุฌุฏูุฏ:** `lib/app/features/announcements/presentation/screens/parent_announcements_screen.dart`

- ูุงุฆูุฉ ุฅุนูุงูุงุช ูุฑุชุจุฉ ุจุงูุชุงุฑูุฎ
- ุชูููุฒ ููุฑูุก/ุบูุฑ ููุฑูุก
- `markAsRead` ุนูุฏ ุงูุถุบุท
- ุญุงูุฉ ูุงุฑุบุฉ: "ูุง ุชูุฌุฏ ุฅุนูุงูุงุช ุจุนุฏ"
- ุญุงูุฉ ุจุฏูู ูุณุฌุฏ: "ุงูุถู ููุณุฌุฏ ุฃููุงู ูุงุณุชูุจุงู ุงูุฅุนูุงูุงุช"

#### ุฌุงูุจ ุงูุณูุจุฑ ุขุฏูู:
**ููู:** ุชุนุฏูู `lib/app/features/super_admin/presentation/screens/`
- ุฅุถุงูุฉ ุฒุฑ "ุฅุฑุณุงู ุฅุนูุงู ููู ุงูุฃุฆูุฉ"

#### ุทุจูุฉ ุงูุจูุงูุงุช:
```
lib/app/features/announcements/
  data/
    models/announcement_model.dart
    repositories/announcement_repository.dart
  domain/
    entities/announcement.dart
  presentation/
    bloc/announcement_bloc.dart
    bloc/announcement_event.dart
    bloc/announcement_state.dart
    screens/parent_announcements_screen.dart
```

---

## ุงููุฑุญูุฉ 1 โ Competition Context (ุงูุฃุณุจูุน ุงูุซุงูู)

### 1.1 ุญุงูุฉ ุงููุณุงุจูุฉ ุงููุฑูุฒูุฉ

**ููู ุฌุฏูุฏ:** `lib/app/features/competitions/domain/competition_status.dart`

```dart
enum CompetitionStatus { noCompetition, upcoming, running, finished }
```

**ูุงุนุฏุฉ:** ุงูุชุตุญูุญุงุช ูุชุงุญุฉ **ุฏุงุฆูุงู** โ ููู ุงูููุงุท ุชูุญุชุณุจ ููุท ุฃุซูุงุก `running`.
*(ุฎูุงูุงู ููุฎุทุฉ ุงูุฃุตููุฉ ุงูุชู ุงูุชุฑุญุช ุฅุฎูุงุกูุง โ ูุฐุง ูุถุฑ ุงููุณุชุฎุฏู)*

**ุงููุตุฏุฑ:** `CompetitionRepository.getActive(mosqueId)`

**ุงูุงุณุชุฎุฏุงู:**
- ูู Home ููู ุงูุฃูุฑ: Banner ุญุณุจ ุงูุญุงูุฉ
- ูู Home ุงูุงุจู: Banner + ูุฏู ูููู
- ูู ุดุงุดุฉ ุงูุชุตุญูุญุงุช: ุฑุณุงูุฉ ุชูุถูุญูุฉ "ุงูููุงุท ุชูุญุชุณุจ ุฃุซูุงุก ุงููุณุงุจูุฉ ููุท"

### 1.2 Banner ุงููุณุงุจูุฉ

ูุธูุฑ ูู ุฃุนูู Home ูููู ุงูุฃูุฑ ูุงูุงุจู:

| ุงูุญุงูุฉ | ุงูุจุงูุฑ |
|--------|--------|
| `running` | ๐ข "ุงููุณุงุจูุฉ ูุนูุงูุฉ ุญุชู [ุชุงุฑูุฎ]" |
| `upcoming` | ๐ก "ูุณุงุจูุฉ ูุงุฏูุฉ ูู [ุชุงุฑูุฎ]" |
| `finished` | โซ "ุงูุชูุช ุงููุณุงุจูุฉ โ ุงูุชุธุฑ ุงูููุณู ุงููุงุฏู" |
| `noCompetition` | ูุง ูุธูุฑ ุดูุก |

### 1.3 ุงูููุงุจู ุนูุฏ ุงูุฅูุงู

**ูุง ูุญุชุงุฌู ุงูุฅูุงู:**
- ุดุงุดุฉ "ุฅุนูุงู ูุง ูุจู ุงููุณุงุจูุฉ" (ููุน `competition_preview`)
- ูู Dashboard ุงูุฅูุงู: ุดุงุฑุฉ "ุทูุจุงุช ุชุตุญูุญ ูุนููุฉ: X"

---

## ุงููุฑุญูุฉ 2 โ Dashboard + Inbox (ุงูุฃุณุจูุน ุงูุซุงูุซ)

### 2.1 Inbox ููุญูุฏ ูููู ุงูุฃูุฑ

**ููู ุฌุฏูุฏ:** `lib/app/features/parent/presentation/screens/parent_inbox_screen.dart`

**ุงูุชุจููุจุงุช:**
- "ุงููู" โ ูุฏูุฌ ูุฑุชุจ ุจุงูุชุงุฑูุฎ
- "ุฅุนูุงูุงุช" โ ูู `announcements`
- "ููุงุญุธุงุช ุงููุดุฑู" โ ูู `notes`

**ุฏูุฌ ูู Home:** ุงุณุชุจุฏุงู ุฒุฑูู "ููุงุญุธุงุช ุงููุดุฑู" + "ุงูุฅุนูุงูุงุช" ุจุฒุฑ ูุงุญุฏ "ุงูุฑุณุงุฆู" ูุน Badge ุนุฏุฏ ุบูุฑ ุงูููุฑูุก.

### 2.2 Badge ุบูุฑ ุงูููุฑูุก

**ุงูุญุณุงุจ:**
```
ุบูุฑ ููุฑูุก = ุฅุนูุงูุงุช_ุบูุฑ_ููุฑูุกุฉ + ููุงุญุธุงุช_ุบูุฑ_ููุฑูุกุฉ
```

ูุธูุฑ ุนูู ุฒุฑ "ุงูุฑุณุงุฆู" ูู ุดุจูุฉ ุงูุฅุฌุฑุงุกุงุช.

### 2.3 ููุญุฉ ุงูุฅูุงู ุงููุญุณููุฉ

**ุชุญุณููุงุช ูุทููุจุฉ ูู Dashboard ุงูุฅูุงู:**
- ุฅุฌูุงูู ุงูุทูุงุจ ูู ุงููุณุฌุฏ
- ูุณุจุฉ ุงูุญุถูุฑ ูุฐุง ุงูุฃุณุจูุน
- ุทูุจุงุช ุงูุชุตุญูุญ ุงููุนููุฉ (badge)
- ุฒุฑ "ุฅุฑุณุงู ุฅุนูุงู" ุจุงุฑุฒ

### 2.4 ููุญุฉ ุงููุดุฑู ุงููุญุณููุฉ

**ุชุญุณููุงุช ูุทููุจุฉ:**
- ุนุฏุฏ ุทูุงุจ ูุฌููุนุชู
- ูุณุจุฉ ุญุถูุฑูู ูุฐุง ุงูุฃุณุจูุน
- **ุชูุจูู ุงูุบูุงุจ:** ูู ูู ูุญุถุฑ 3+ ุฃูุงู ูุชุชุงููุฉ
- ุฒุฑ "ุฅุฑุณุงู ููุงุญุธุฉ ููุฌููุนุชู"

---

## ุงููุฑุญูุฉ 3 โ ุชุฌุฑุจุฉ ุงูุงุจู (ุงูุฃุณุจูุน ุงูุฑุงุจุน)

### 3.1 ุดุงุดุฉ ุงูุงุจู ุงูุฑุฆูุณูุฉ

- Banner ุงููุณุงุจูุฉ
- ููุงุทู ุงูุญุงููุฉ + streak
- ุขุฎุฑ ุญุถูุฑ ูุณุฌู
- ุฒุฑ "ุฑุณุงุฆูู" (ููุงุญุธุงุช ุงููุดุฑู ุงูุฎุงุตุฉ ุจู)

### 3.2 Realtime ููุงุจู

```dart
// ุงูุงุดุชุฑุงู ูู attendance ููุงุจู
supabase.from('attendance')
  .stream(primaryKey: ['id'])
  .eq('child_id', childId)
  .listen((data) { /* ุชุญุฏูุซ ุงูููุงุท + ุฅุดุนุงุฑ ุฏุงุฎู ุงูุชุทุจูู */ });
```

### 3.3 Inbox ุงูุงุจู

ููุงุญุธุงุช ุงููุดุฑู ุงููุฑุชุจุทุฉ ุจู `child_id` ููุท โ ูุน `markAsRead`.

### 3.4 Badge "ูุดุงุฑู ูู ุงููุณุงุจูุฉ" ูู ูุงุฆูุฉ ุงูุฃุจูุงุก

ูู ุดุงุดุฉ "ุฃุจูุงุฆู": ููู ุงุจู ุดุงุฑุฉ ุตุบูุฑุฉ ุญุณุจ ุญุงูุฉ ูุณุฌุฏู.

---

## ุงููุฑุญูุฉ 4 โ Realtime + Caching (ุงูุฃุณุจูุน ุงูุฎุงูุณ)

### 4.1 ุงุณุชุฑุงุชูุฌูุฉ Caching

**ุงููุจุฏุฃ:** ุงุณุชุฎุฏุงู `shared_preferences` + JSON (ููุฌูุฏ ุจุงููุนู ูู ุงููุดุฑูุน โ ูุง ูุถูู Hive).

```
ูุชุญ ุงูุดุงุดุฉ:
  1. ุงูุฑุฃ snapshot ูู shared_preferences โ ุงุนุฑุถู ููุฑุงู
  2. ุดุบูู ุทูุจ API ูู ุงูุฎูููุฉ
  3. ุนูุฏ ุงูุงุณุชุฌุงุจุฉ โ ุญุฏูุซ ุงููุงุฌูุฉ + ุงุญูุธ snapshot ุฌุฏูุฏ
  4. Realtime ูุณุชูุฑ ููุชุญุฏูุซุงุช ุงููุญุธูุฉ
```

**ุงููุถุงุก ุงููุงุด:** ุฅู ูุฑ ุฃูุซุฑ ูู 24 ุณุงุนุฉ โ ุนุฑุถ "ุฌุงุฑู ุชุญุฏูุซ ุงูุจูุงูุงุชโฆ" ุญุชู ููุชูู ุงูุทูุจ.

### 4.2 ุฅุฏุงุฑุฉ Realtime Subscriptions

**ูุงุนุฏุฉ:** ูู subscription ุชููุบู ูู `dispose()`:

```dart
@override
void dispose() {
  _announcementsSubscription?.cancel();
  _notesSubscription?.cancel();
  super.dispose();
}
```

**ุงูุฌุฏุงูู ุงููุทููุจ ุชูุนูููุง ูู Realtime:**
- `announcements` โ (ูู ุงูู SQL ุฃุนูุงู)
- `announcement_reads` โ
- `notes` (ุชุญูู ูู ูุฌูุฏู ูู supabase_realtime)
- `attendance` (ุชุญูู ูู ูุฌูุฏู ูู supabase_realtime)

---

## ุงููุฑุญูุฉ 5 โ UX ููุงุฆู (ุงูุฃุณุจูุน ุงูุณุงุฏุณ)

### 5.1 ุฏูุฌ ุดุจูุฉ ุงูุฅุฌุฑุงุกุงุช ูู Home ููู ุงูุฃูุฑ

**ูุจู:** ุฃุจูุงุฆูุ ุฅุถุงูุฉ ุงุจูุ ุทูุจ ุชุตุญูุญุ ุทูุจุงุชูุ ููุงุญุธุงุช ุงููุดุฑูุ ุงูุฅุนูุงูุงุชุ ุจุทุงูุงุช ุงูุฃุจูุงุก (7+ ุฃุฒุฑุงุฑ)

**ุจุนุฏ:**
1. ุฃุจูุงุฆู
2. ุฅุถุงูุฉ ุงุจู
3. ุชุตุญูุญุงุช ุงูุญูุธ *(ุชุจููุจุงู: ุทูุจ ุฌุฏูุฏ + ุทูุจุงุชู)*
4. ุงูุฑุณุงุฆู ูุงูุฅุนูุงูุงุช *(Inbox ููุญูุฏ + badge)*
5. ุชูุงุฑูุฑ ุงูุตูุงุฉ
6. ุจุทุงูุงุช ุงูุฃุจูุงุก

### 5.2 ุญุงูุงุช ูุงุฑุบุฉ ููู ุดุงุดุฉ

| ุงูุดุงุดุฉ | ุญุงูุฉ ูุงุฑุบุฉ | ุฒุฑ ุฅุฌุฑุงุก |
|--------|-----------|-----------|
| ุงูุฅุนูุงูุงุช | "ูุง ุฅุนูุงูุงุช ุจุนุฏ" | โ |
| ุงูุฅุนูุงูุงุช (ุจูุง ูุณุฌุฏ) | "ุงูุถู ููุณุฌุฏ ุฃููุงู" | "ุงูุถู ููุณุฌุฏ" |
| ุฃุจูุงุฆู | "ูู ุชุถู ุฃุจูุงุก ุจุนุฏ" | "ุฅุถุงูุฉ ุงุจู" |
| ููุงุญุธุงุช ุงููุดุฑู | "ูุง ููุงุญุธุงุช ุจุนุฏ" | โ |
| ุชุตุญูุญุงุช (ุจูุง ูุณุงุจูุฉ) | "ุงูููุงุท ุชูุญุชุณุจ ุฃุซูุงุก ุงููุณุงุจูุฉ โ ูุฏูู ุทูุจู ูุณููุนุงูุฌ ูุงุญูุงู" | "ุทูุจ ุชุตุญูุญ" |

### 5.3 ุดุงุดุฉ "ุตุญุฉ ุงูุญุณุงุจ"

ูุณู ูู ุงูุจุฑููุงูู:
```
โ ุงูุงุณู ูุถุงู
โ ุงูุจุฑูุฏ ููุนูู
โ ุฑูู ุงููุงุชู ุบูุฑ ูุถุงู  โ [ุฅุถุงูุฉ]
โ ูุง ุฃุจูุงุก ูุถุงููู       โ [ุฅุถุงูุฉ ุงุจู]
โ๏ธ ุงุจู ุบูุฑ ูุฑุชุจุท ุจูุณุฌุฏ  โ [ุฑุจุท ุจูุณุฌุฏ]
```

---

## ุฎุฑูุทุฉ ุงููููุงุช ุงููุงููุฉ

### ูููุงุช ุฌุฏูุฏุฉ:
```
lib/app/features/announcements/
  data/models/announcement_model.dart
  data/repositories/announcement_repository.dart
  domain/entities/announcement.dart
  presentation/bloc/announcement_bloc.dart
  presentation/bloc/announcement_event.dart
  presentation/bloc/announcement_state.dart
  presentation/screens/parent_announcements_screen.dart

lib/app/features/imam/presentation/screens/
  send_announcement_screen.dart
  imam_correction_review_screen.dart  (ูุฑุงุฌุนุฉ ุทูุจุงุช ุงูุชุตุญูุญ)

lib/app/features/parent/presentation/screens/
  parent_inbox_screen.dart

lib/app/features/competitions/domain/
  competition_status.dart
```

### ูููุงุช ุชูุนุฏูู:
```
lib/app/core/services/prayer_times_service.dart  (GPS)
lib/app/features/parent/presentation/screens/home_screen.dart  (copy bug + banner)
lib/app/features/profile/presentation/screens/profile_screen.dart  (edit + photo)
lib/app/features/imam/presentation/screens/ (dashboard improvements)
lib/app/features/supervisor/presentation/screens/ (dashboard improvements)
android/app/src/main/AndroidManifest.xml  (GPS permissions)
ios/Runner/Info.plist  (GPS permissions)
```

---

## ุฌุฏูู ุงููุชุงุจุนุฉ

| # | ุงููููุฉ | ุงููููุงุช | ุงูุญุงูุฉ |
|---|--------|---------|--------|
| 0.1 | ุฅุตูุงุญ GPS | prayer_times_service, manifests | โ |
| 0.2 | ุฅุตูุงุญ ุฒุฑ ุงููุณุฎ | home_screen | โ |
| 0.3 | ุชุนุฏูู ุงูููู ุงูุดุฎุตู | profile_screen, auth_repository | โ (ููุฌูุฏ ูุณุจูุงู) |
| 0.4 | ุงูุฅุนูุงูุงุช MVP | announcements/* + imam screen | โ (ููุฌูุฏ ูุณุจูุงู) |
| 1.1 | Competition Status enum | competition_model.dart | โ |
| 1.2 | Banner ุงููุณุงุจูุฉ ูู Home | home_screen | โ |
| 2.1 | Inbox ููุญูุฏ | parent_inbox_screen | โ |
| 2.2 | Badge ุบูุฑ ุงูููุฑูุก | home_screen | โ |
| 2.3 | Dashboard ุงูุฅูุงู | imam screens | โฌ |
| 2.4 | Dashboard ุงููุดุฑู | supervisor screens | โฌ |
| 3.x | ุชุฌุฑุจุฉ ุงูุงุจู | child screens | โฌ |
| 4.x | Realtime + Caching | multiple | โฌ |
| 5.x | UX ููุงุฆู + ุญุงูุงุช ูุงุฑุบุฉ | multiple | โฌ |

---

## ููุงุญุธุงุช ูููุฉ (ูู ูุฑุงุฌุนุฉ ุงูุฎุทุฉ ุงูุฃุตููุฉ)

1. **ุงูุชุตุญูุญุงุช ูุชุงุญุฉ ุฏุงุฆูุงู** โ ูุง ูุฎูููุง ุจุฏูู ูุณุงุจูุฉุ ููุท ููุถุญ ุฃู ุงูููุงุท ุชูุญุชุณุจ ุฃุซูุงุก ุงููุณุงุจูุฉ ููุท.
2. **ูุง ูุถูู Hive** โ ุงููุดุฑูุน ูููู `sqflite` + `shared_preferences` โ ูุณุชุฎุฏูููุง.
3. **ุฅุนุงุฏุฉ ุชูุธูู ุงูููุฏ (ุงููุฑุญูุฉ 4 ุงูุฃุตููุฉ)** โ ูุคุฌูุฉ ูุฃููุง ุฎุทุฑุฉุ ุชููููุฐ ููุท ุฅู ุตุงุฑ ุงูููุฏ ุตุนุจ ุงูุตูุงูุฉ.
4. **ูู Realtime subscription ุชููุบู ูู dispose()** โ ูุงุนุฏุฉ ุบูุฑ ูุงุจูุฉ ููุชูุงูุถ.
5. **SQL migrations ุฃููุงู** โ ูุง ููุชุจ ููุฏ Supabase ูุจู ุฅูุดุงุก ุงูุฌุฏุงูู ูู Dashboard.
6. **ูู ุงูุงุจู ูุณุฌู ุฏุฎูู ูููุตูุ** โ ูุฌุจ ุชูุถูุญ ูุฐุง ูุจู ุชูููุฐ ุงููุฑุญูุฉ 3.
